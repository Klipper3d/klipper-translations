# Neko.vecter <Vecterfang@icloud.com>, 2021.
# Yifei Ding <dingyifeiair@gmail.com>, 2021.
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"Report-Msgid-Bugs-To: yifeiding@protonmail.com\n"
"POT-Creation-Date: 2021-07-10 16:29+0200\n"
"PO-Revision-Date: 2021-12-25 08:35+0000\n"
"Last-Translator: Yifei Ding <dingyifeiair@gmail.com>\n"
"Language-Team: Chinese (Simplified) <https://hosted.weblate.org/projects/"
"klipper/rpi_microcontroller/zh_Hans/>\n"
"Language: zh-hans\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"
"X-Generator: Weblate 4.10.1\n"

msgid ""
"This document describes the process of running Klipper on a RPi and use the "
"same RPi as secondary mcu."
msgstr "这个文档描述了在RPi上运行Klipper的过程，并使用相同的RPi作为辅助MCU。"

msgid "Why use RPi as a secondary MCU?"
msgstr "为什么使用RPi作为辅助MCU？"

msgid ""
"Often the MCUs dedicated to controlling 3D printers have a limited and pre-"
"configured number of exposed pins to manage the main printing functions "
"(thermal resistors, extruders, steppers ...). Using the RPi where Klipper is"
" installed as a secondary MCU gives the possibility to directly use the "
"GPIOs and the buses (i2c, spi) of the RPi inside klipper without using "
"Octoprint plugins (if used) or external programs giving the ability to "
"control everything within the print GCODE."
msgstr ""
"通常情况下，专门用于控制3D打印机的MCU有有限的、预先配置好的引脚来管理主要的打印功能（热敏电阻、挤出机、步进器...）。使用安装了Klipper的RPi作为辅助MCU，可以直接使用klipper内的GPIO和RPi的总线（i2c，spi），而不需要使用Octoprint插件（如果使用的话）或外部程序，从而能够控制打印GCODE内的一切。"

msgid ""
"**Warning**: If your platform is a *Beaglebone* and you have correctly "
"followed the installation steps, the linux mcu is already installed and "
"configured for your system."
msgstr ""
"**警告**。如果你的平台是*Beaglebone*，并且你已经正确地按照安装步骤进行了安装，那么linux mcu已经为你的系统安装和配置了。"

msgid "Install the rc script"
msgstr "安装 rc 脚本"

msgid ""
"If you want to use the host as a secondary MCU the klipper_mcu process must "
"run before the klippy process."
msgstr "如果你想把主机作为一个辅助MCU，klipper_mcu进程必须在klippy进程之前运行。"

msgid "After installing Klipper, install the script. run:"
msgstr "安装 Klipper 后，运行以下命令来安装脚本："

msgid "Building the micro-controller code"
msgstr "构建微控制器代码"

msgid ""
"To compile the Klipper micro-controller code, start by configuring it for "
"the \"Linux process\":"
msgstr "要编译的 Klipper 微控制器代码，需要先将编译配置设置为“Linux Process”："

msgid ""
"In the menu, set \"Microcontroller Architecture\" to \"Linux process,\" then"
" save and exit."
msgstr ""
"在菜单中，设置“Microcontroller Archetecture”（微控制器架构）为“Linux Process”（Linux "
"进程），然后保存(save)并退出(exit)。"

msgid "To build and install the new micro-controller code, run:"
msgstr "要构建和安装新的微控制器代码，请运行："

msgid ""
"If klippy.log reports a \"Permission denied\" error when attempting to "
"connect to `/tmp/klipper_host_mcu` then you need to add your user to the tty"
" group. The following command will add the \"pi\" user to the tty group:"
msgstr ""
"如果klippy.log在试图连接到`/tmp/klipper_host_mcu`时输出 \"Permission denied\" "
"错误，那么你需要将你的用户添加到tty用户组。下面的命令将把 \"pi \"用户添加到tty用户组中："

msgid "Remaining configuration"
msgstr "剩余的配置"

msgid ""
"Complete the installation by configuring Klipper secondary MCU following the"
" instructions in [RaspberryPi sample config](../config/sample-raspberry-"
"pi.cfg) and [Multi MCU sample config](../config/sample-multi-mcu.cfg)."
msgstr ""
"按照[RaspberryPi 参考配置](../config/sample-raspberry-pi.cfg)和[多微控制器参考配置](../"
"config/sample-multi-mcu.cfg)中的说明配置Klipper 二级微控制器来完成安装。"

msgid "Optional: Identify the correct gpiochip"
msgstr "可选步骤：识别正确的 gpiochip"

msgid ""
"On Rasperry and on many clones the pins exposed on the GPIO belong to the "
"first gpiochip. They can therefore be used on klipper simply by referring "
"them with the name `gpio0..n`. However, there are cases in which the exposed"
" pins belong to gpiochips other than the first. For example in the case of "
"some OrangePi models or if a Port Expander is used. In these cases it is "
"useful to use the commands to access the *Linux GPIO character device* to "
"verify the configuration."
msgstr ""
"在树莓派和许多克隆上，暴露在 GPIO 上的引脚属于第一个 gpiochip。因此，它们只需用`gpio0...n`的名字来引用就可以在 Klipper "
"上直接使用。然而，在有些情况下，暴露的引脚不属于第一个 gpiochip。例如，在使用一些 OrangePi 型号时或者使用了端口扩展器。在这些情况下，"
"使用命令访问 *Linux GPIO character device* 来验证实际配置。"

msgid ""
"To install the *Linux GPIO character device - binary* on a debian based "
"distro like octopi run:"
msgstr ""
"要在基于 Debian 的发行版（如 OctoPi）上安装 *Linux GPIO character device - binary*，请运行："

msgid "To check available gpiochip run:"
msgstr "要检查可用的gpiochip，请运行："

msgid "To check the pin number and the pin availability tun:"
msgstr "要检查针脚编号和针脚可用性，请运行："

msgid ""
"The chosen pin can thus be used within the configuration as "
"`gpiochip<n>/gpio<o>` where **n** is the chip number as seen by the "
"`gpiodetect` command and **o** is the line number seen by the` gpioinfo` "
"command."
msgstr ""
"因此，所选引脚可以在配置中用 `gpiochip<n>/gpio<o>`引用，其中 **n** 是由 `gpiodetect` "
"命令看到的芯片编号**o** 是 ` gpioinfo` 命令看到的行号。"

msgid ""
"***Warning:*** only gpio marked as `unused` can be used. It is not possible "
"for a *line* to be used by multiple processes simultaneously."
msgstr "***警告：***只有标记为`unused`的 gpio 才可以被使用。一条*线路*不可能被多个进程同时使用。"

msgid "For example on a RPi 3B+ where klipper use the GPIO20 for a switch:"
msgstr "例如，在树莓派 3B+上 将GPIO20作为 Klipper 的一个开关："

msgid ""
"cd ~/klipper/\n"
"sudo cp \"./scripts/klipper-mcu-start.sh\" /etc/init.d/klipper_mcu\n"
"sudo update-rc.d klipper_mcu defaults\n"
msgstr ""
"cd ~/klipper/\n"
"sudo cp \"./scripts/klipper-mcu-start.sh\" /etc/init.d/klipper_mcu\n"
"sudo update-rc.d klipper_mcu defaults\n"

msgid ""
"cd ~/klipper/\n"
"make menuconfig\n"
msgstr ""
"cd ~/klipper/\n"
"make menuconfig\n"

msgid ""
"sudo service klipper stop\n"
"make flash\n"
"sudo service klipper start\n"
msgstr ""
"sudo service klipper stop\n"
"make flash\n"
"sudo service klipper start\n"

msgid "sudo usermod -a -G tty pi\n"
msgstr "sudo usermod -a -G tty pi\n"

msgid "sudo apt-get install gpiod\n"
msgstr "sudo apt-get install gpiod\n"

msgid "gpiodetect\n"
msgstr "gpiodetect\n"

msgid "gpioinfo\n"
msgstr "gpioinfo\n"

msgid ""
"$ gpiodetect\n"
"gpiochip0 [pinctrl-bcm2835] (54 lines)\n"
"gpiochip1 [raspberrypi-exp-gpio] (8 lines)\n"
"\n"
"$ gpioinfo\n"
"gpiochip0 - 54 lines:\n"
"        line   0:      unnamed       unused   input  active-high\n"
"        line   1:      unnamed       unused   input  active-high\n"
"        line   2:      unnamed       unused   input  active-high\n"
"        line   3:      unnamed       unused   input  active-high\n"
"        line   4:      unnamed       unused   input  active-high\n"
"        line   5:      unnamed       unused   input  active-high\n"
"        line   6:      unnamed       unused   input  active-high\n"
"        line   7:      unnamed       unused   input  active-high\n"
"        line   8:      unnamed       unused   input  active-high\n"
"        line   9:      unnamed       unused   input  active-high\n"
"        line  10:      unnamed       unused   input  active-high\n"
"        line  11:      unnamed       unused   input  active-high\n"
"        line  12:      unnamed       unused   input  active-high\n"
"        line  13:      unnamed       unused   input  active-high\n"
"        line  14:      unnamed       unused   input  active-high\n"
"        line  15:      unnamed       unused   input  active-high\n"
"        line  16:      unnamed       unused   input  active-high\n"
"        line  17:      unnamed       unused   input  active-high\n"
"        line  18:      unnamed       unused   input  active-high\n"
"        line  19:      unnamed       unused   input  active-high\n"
"        line  20:      unnamed    \"klipper\"  output  active-high [used]\n"
"        line  21:      unnamed       unused   input  active-high\n"
"        line  22:      unnamed       unused   input  active-high\n"
"        line  23:      unnamed       unused   input  active-high\n"
"        line  24:      unnamed       unused   input  active-high\n"
"        line  25:      unnamed       unused   input  active-high\n"
"        line  26:      unnamed       unused   input  active-high\n"
"        line  27:      unnamed       unused   input  active-high\n"
"        line  28:      unnamed       unused   input  active-high\n"
"        line  29:      unnamed       \"led0\"  output  active-high [used]\n"
"        line  30:      unnamed       unused   input  active-high\n"
"        line  31:      unnamed       unused   input  active-high\n"
"        line  32:      unnamed       unused   input  active-high\n"
"        line  33:      unnamed       unused   input  active-high\n"
"        line  34:      unnamed       unused   input  active-high\n"
"        line  35:      unnamed       unused   input  active-high\n"
"        line  36:      unnamed       unused   input  active-high\n"
"        line  37:      unnamed       unused   input  active-high\n"
"        line  38:      unnamed       unused   input  active-high\n"
"        line  39:      unnamed       unused   input  active-high\n"
"        line  40:      unnamed       unused   input  active-high\n"
"        line  41:      unnamed       unused   input  active-high\n"
"        line  42:      unnamed       unused   input  active-high\n"
"        line  43:      unnamed       unused   input  active-high\n"
"        line  44:      unnamed       unused   input  active-high\n"
"        line  45:      unnamed       unused   input  active-high\n"
"        line  46:      unnamed       unused   input  active-high\n"
"        line  47:      unnamed       unused   input  active-high\n"
"        line  48:      unnamed       unused   input  active-high\n"
"        line  49:      unnamed       unused   input  active-high\n"
"        line  50:      unnamed       unused   input  active-high\n"
"        line  51:      unnamed       unused   input  active-high\n"
"        line  52:      unnamed       unused   input  active-high\n"
"        line  53:      unnamed       unused   input  active-high\n"
"gpiochip1 - 8 lines:\n"
"        line   0:      unnamed       unused   input  active-high\n"
"        line   1:      unnamed       unused   input  active-high\n"
"        line   2:      unnamed       \"led1\"  output   active-low [used]\n"
"        line   3:      unnamed       unused   input  active-high\n"
"        line   4:      unnamed       unused   input  active-high\n"
"        line   5:      unnamed       unused   input  active-high\n"
"        line   6:      unnamed       unused   input  active-high\n"
"        line   7:      unnamed       unused   input  active-high\n"
msgstr ""
"$ gpiodetect\n"
"gpiochip0 [pinctrl-bcm2835] (54 lines)\n"
"gpiochip1 [raspberrypi-exp-gpio] (8 lines)\n"
"\n"
"$ gpioinfo\n"
"gpiochip0 - 54 lines:\n"
"        line   0:      unnamed       unused   input  active-high\n"
"        line   1:      unnamed       unused   input  active-high\n"
"        line   2:      unnamed       unused   input  active-high\n"
"        line   3:      unnamed       unused   input  active-high\n"
"        line   4:      unnamed       unused   input  active-high\n"
"        line   5:      unnamed       unused   input  active-high\n"
"        line   6:      unnamed       unused   input  active-high\n"
"        line   7:      unnamed       unused   input  active-high\n"
"        line   8:      unnamed       unused   input  active-high\n"
"        line   9:      unnamed       unused   input  active-high\n"
"        line  10:      unnamed       unused   input  active-high\n"
"        line  11:      unnamed       unused   input  active-high\n"
"        line  12:      unnamed       unused   input  active-high\n"
"        line  13:      unnamed       unused   input  active-high\n"
"        line  14:      unnamed       unused   input  active-high\n"
"        line  15:      unnamed       unused   input  active-high\n"
"        line  16:      unnamed       unused   input  active-high\n"
"        line  17:      unnamed       unused   input  active-high\n"
"        line  18:      unnamed       unused   input  active-high\n"
"        line  19:      unnamed       unused   input  active-high\n"
"        line  20:      unnamed    \"klipper\"  output  active-high [used]\n"
"        line  21:      unnamed       unused   input  active-high\n"
"        line  22:      unnamed       unused   input  active-high\n"
"        line  23:      unnamed       unused   input  active-high\n"
"        line  24:      unnamed       unused   input  active-high\n"
"        line  25:      unnamed       unused   input  active-high\n"
"        line  26:      unnamed       unused   input  active-high\n"
"        line  27:      unnamed       unused   input  active-high\n"
"        line  28:      unnamed       unused   input  active-high\n"
"        line  29:      unnamed       \"led0\"  output  active-high [used]\n"
"        line  30:      unnamed       unused   input  active-high\n"
"        line  31:      unnamed       unused   input  active-high\n"
"        line  32:      unnamed       unused   input  active-high\n"
"        line  33:      unnamed       unused   input  active-high\n"
"        line  34:      unnamed       unused   input  active-high\n"
"        line  35:      unnamed       unused   input  active-high\n"
"        line  36:      unnamed       unused   input  active-high\n"
"        line  37:      unnamed       unused   input  active-high\n"
"        line  38:      unnamed       unused   input  active-high\n"
"        line  39:      unnamed       unused   input  active-high\n"
"        line  40:      unnamed       unused   input  active-high\n"
"        line  41:      unnamed       unused   input  active-high\n"
"        line  42:      unnamed       unused   input  active-high\n"
"        line  43:      unnamed       unused   input  active-high\n"
"        line  44:      unnamed       unused   input  active-high\n"
"        line  45:      unnamed       unused   input  active-high\n"
"        line  46:      unnamed       unused   input  active-high\n"
"        line  47:      unnamed       unused   input  active-high\n"
"        line  48:      unnamed       unused   input  active-high\n"
"        line  49:      unnamed       unused   input  active-high\n"
"        line  50:      unnamed       unused   input  active-high\n"
"        line  51:      unnamed       unused   input  active-high\n"
"        line  52:      unnamed       unused   input  active-high\n"
"        line  53:      unnamed       unused   input  active-high\n"
"gpiochip1 - 8 lines:\n"
"        line   0:      unnamed       unused   input  active-high\n"
"        line   1:      unnamed       unused   input  active-high\n"
"        line   2:      unnamed       \"led1\"  output   active-low [used]\n"
"        line   3:      unnamed       unused   input  active-high\n"
"        line   4:      unnamed       unused   input  active-high\n"
"        line   5:      unnamed       unused   input  active-high\n"
"        line   6:      unnamed       unused   input  active-high\n"
"        line   7:      unnamed       unused   input  active-high\n"

#: docs/RPi_microcontroller.md:block 31 (header)
msgid "Optional: Hardware PWM"
msgstr "可选功能：硬件 PWM"

#: docs/RPi_microcontroller.md:block 32 (paragraph)
msgid ""
"Raspberry Pi's have two PWM channels (PWM0 and PWM1) which are exposed on "
"the header or if not, can be routed to existing gpio pins. The Linux mcu "
"daemon uses the pwmchip sysfs interface to control hardware pwm devices on "
"Linux hosts. The pwm sysfs interface is not exposed by default on a "
"Raspberry and can be activated by adding a line to `/boot/config.txt`:"
msgstr ""
"树莓派有两个PWM通道（PWM0和PWM1），它们通常暴露在header中上，如果没有，可以路由到现有的 gpio 引脚。Linux mcu "
"守护程序使用 pwmchip sysfs 接口来控制 Linux 主机上的硬件 PWM 设备。pwm sysfs 接口在树莓上默认是隐藏的，可以通过在`/"
"boot/config.txt`中加入一行设置来激活："

#: docs/RPi_microcontroller.md:block 33 (code)
msgid ""
"# Enable pwmchip sysfs interface\n"
"dtoverlay=pwm,pin=12,func=4\n"
msgstr ""
"# 启用 pwmchip sysfs 接口\n"
"dtoverlay=pwm,pin=12,func=4\n"

#: docs/RPi_microcontroller.md:block 34 (paragraph)
msgid ""
"This example enables only PWM0 and routes it to gpio12. If both PWM channels"
" need to be enabled you can use `pwm-2chan`."
msgstr "此示例仅启用 PWM0 并将其路由到 gpio12。如果需要同时启用两个 PWM 通道，则可以使用 `pwm-2chan`。"

#: docs/RPi_microcontroller.md:block 35 (paragraph)
msgid ""
"The overlay does not expose the pwm line on sysfs on boot and needs to be "
"exported by echo'ing the number of the pwm channel to "
"`/sys/class/pwm/pwmchip0/export`:"
msgstr ""
"overlay 在启动时不会在 sysfs 上暴露出 PWM 线路，需要通过echo将 PWM 通道的编号导出到 `/sys/class/pwm/"
"pwmchip0/export`："

#: docs/RPi_microcontroller.md:block 36 (code)
msgid "echo 0 > /sys/class/pwm/pwmchip0/export\n"
msgstr "echo 0 > /sys/class/pwm/pwmchip0/export\n"

#: docs/RPi_microcontroller.md:block 37 (paragraph)
msgid ""
"This will create device `/sys/class/pwm/pwmchip0/pwm0` in the filesystem. "
"The easiest way to do this is by adding this to `/etc/rc.local` before the "
"`exit 0` line."
msgstr ""
"这将在文件系统中创建设备`/sys/class/pwm/kwmchip0/pwm0`。最简单的方法是在`/etc/rc.local`的`exit "
"0`行之前添加这行。"

#: docs/RPi_microcontroller.md:block 38 (paragraph)
msgid ""
"With the sysfs in place, you can now use either the pwm channel(s) by adding"
" the following piece of configuration to your `printer.cfg`:"
msgstr "有了 sysfs，现在可以通过将以下配置添加到 `printer.cfg` 来使用 PWM 通道："

#: docs/RPi_microcontroller.md:block 39 (code)
msgid ""
"[output_pin caselight]\n"
"pin: host:pwmchip0/pwm0\n"
"pwm: True\n"
"hardware_pwm: True\n"
"cycle_time: 0.000001\n"
msgstr ""
"[output_pin caselight]\n"
"pin: host:pwmchip0/pwm0\n"
"pwm: True\n"
"hardware_pwm: True\n"
"cycle_time: 0.000001\n"

#: docs/RPi_microcontroller.md:block 40 (paragraph)
msgid ""
"This will add hardware pwm control to gpio12 on the Pi (because the overlay "
"was configured to route pwm0 to pin=12)."
msgstr "这将为树莓派上的 gpio12 引脚添加硬件 PWM 控制（因为overlay被配置为将 pwm0 路由到 pin=12）。"

#: docs/RPi_microcontroller.md:block 1 (header)
msgid "RPi microcontroller"
msgstr "RPi 微控制器"

#: docs/RPi_microcontroller.md:block 10 (header)
msgid "Enabling SPI"
msgstr "启用 SPI"

#: docs/RPi_microcontroller.md:block 11 (paragraph)
msgid ""
"Make sure the Linux SPI driver is enabled by running sudo raspi-config and "
"enabling SPI under the \"Interfacing options\" menu."
msgstr ""
"通过运行 sudo raspi-config 并在\"Interfacing Options\"菜单下启用 SPI，确保Linux SPI驱动程序被启用。"

#: docs/RPi_microcontroller.md:block 44 (paragraph)
msgid ""
"PWM0 can be routed to gpio12 and gpio18, PWM1 can be routed to gpio13 and "
"gpio19:"
msgstr "PWM0 可以被路由到 gpio12 和 gpio18，PWM1 可以被路由到 gpio13 和 gpio19："

#: docs/RPi_microcontroller.md:block 45 (table)
msgid "PWM"
msgstr "PWM"

#: docs/RPi_microcontroller.md:block 45 (table)
msgid "gpio PIN"
msgstr "GPIO 引脚"

#: docs/RPi_microcontroller.md:block 45 (table)
msgid "Func"
msgstr "功能"

#: docs/RPi_microcontroller.md:block 45 (table)
msgid "0"
msgstr "0"

#: docs/RPi_microcontroller.md:block 45 (table)
msgid "12"
msgstr "12"

#: docs/RPi_microcontroller.md:block 45 (table)
msgid "4"
msgstr "4"

#: docs/RPi_microcontroller.md:block 45 (table)
msgid "18"
msgstr "18"

#: docs/RPi_microcontroller.md:block 45 (table)
msgid "2"
msgstr "2"

#: docs/RPi_microcontroller.md:block 45 (table)
msgid "1"
msgstr "1"

#: docs/RPi_microcontroller.md:block 45 (table)
msgid "13"
msgstr "13"

#: docs/RPi_microcontroller.md:block 45 (table)
msgid "19"
msgstr "19"

#~ msgid ""
#~ "PWM0 can be routed to gpio12 and gpio18, PWM1 can be routed to gpio13 and "
#~ "gpio19: |PWM|gpio PIN|Func| |---|--------|----| | 0| 12| 4| | 0| 18| 2| | 1|"
#~ " 13| 4| | 1| 19| 2|"
#~ msgstr ""
